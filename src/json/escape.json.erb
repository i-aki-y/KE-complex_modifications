{
    "title": "Change escape key (rev 4)",
    "rules": [
        {
            "description": "Post caps_lock if escape is pressed alone. (rev 2)",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("escape", [], ["any"]) %>,
                    "to": <%= to([["escape"]]) %>,
                    "to_if_alone": [
                        {
                            "key_code": "caps_lock",
                            "hold_down_milliseconds": 500
                        }
                    ]
                }
            ]
        },
        {
            "description": "Change fn+escape to eject.",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("escape", ["fn"], ["any"]) %>,
                    "to": <%= to([["eject"]]) %>
                }
            ]
        },
        {
            "description": "Disable escape; Change shift + escape to escape (For avoiding mistyping on the Touch Bar)",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("escape", ["shift"], ["any"]) %>,
                    "to": <%= to([["escape"]]) %>
                },
                {
                    "type": "basic",
                    "from": <%= from("escape", [], []) %>,
                    "to": <%= to([["vk_none"]]) %>
                }

            ]
        }
    ]
}
